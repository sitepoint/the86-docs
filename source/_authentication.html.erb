<article id="authentication">

  <h1>Authentication</h1>

  <p>
    Authentication is implemented using
    <%= link_to "OAuth 2.0 Bearer Tokens", "http://tools.ietf.org/html/rfc6750" %>
    in the <code>Authorization</code> HTTP header.
  </p>

  <p>
    This is not a full implementation of OAuth 2.0.
    Only the name and format of the <code>Authorization</code> header is used.
    API clients must obtain this authentication token via a non-OAuth-2.0 method.
  </p>

  <p>
    Attempting an API request without the required <code>Authentication</code>
    header will result in a <code>401 Unauthorized</code> response.
  </p>

  <p>
    Attempting an API request not permitted by the provided <code>Authentication</code>
    header will result in a <code>403 Forbidden</code> response.
  </p>

  <p>
    An email address and password may be exchanged for a
    <code>user_access_token</code> to be used as a bearer token by
    <code>POST</code>ing to <code>/api/v1/users/authenticate</code>.
  </p>

  <% code(:http) do %>
POST /api/v1/users/authenticate HTTP/1.1
Host: podling.com
Content-Type: application/json; charset=utf-8
Accept: application/json
User-Agent: HTTPie/0.2.7dev

{
    "email": "john@example.org",
    "password": "secret"
}
  <% end %>

  <% code(:http) do %>
HTTP/1.1 200 OK
Content-Type: application/json; charset=utf-8
Etag: "dd60d92e26130f2437e6530870d228bd"
Cache-Control: max-age=0, private, must-revalidate
Date: Mon, 25 Feb 2013 23:34:03 GMT
Content-Length: 455

{
    "user": {
        "avatar_url": "https://api.twitter.com/1/users/profile_image/johncitizen",
        "created_at": "2012-10-25T10:44:45Z",
        "email": "john@example.org",
        "id": 123,
        "location": "Melbourne, Australia",
        "name": "John Citizen",
        "profile": "Just a regular citizen of the world.",
        "twitter_username": "johncitizen",
        "url": "https://podling.com/api/v1/users/123"
    },
    "user_access_token": "j-9afg1CdAsampletokenMxw7zZ9ppS-HWd1oTXL152"
}
  <% end %>

</article>
