endpoints:
  - title: "Creating a User"
    action: "POST /users"
    parameters:
      - key: name
        description: Minimum 4 characters
      - key: email
        description: Formatted in email format
        optional: true
      - key: password
        description: Minimum 8 characters
        optional: true
    examples:
      curl: curl -d 'name:John Citizen' -H "Authorization:Bearer $token" https://podling.com/api/v1/users
      ruby: >
        user = The86::Client.users.create(name: "John Citizen")
    response:
      status: 201
      "Content-Type": application/json
      body: >
        {"id":10,"name":"\"Matt\"","email":null,"avatar_url":null,"twitter_username":null,"profile":null,"location":null,"created_at":"2013-02-21T03:30:03Z","url":"https://podling.com/api/v1/users/10","access_tokens":[{"created_at":"2013-02-21T03:30:03Z","id":8,"token":"YOG_81weQhXg4hyhMf8Z2TdZ28dpHU4BCR7Ux9l3Ql4","updated_at":"2013-02-21T03:30:03Z","user_id":10}]}

  - title: "Retrieving a user"
    action: "GET /users/:user_id"
    parameters: "None"
    examples:
      curl: curl -H "Authorization:Bearer $token" https://podling.com/api/v1/users/19
    response:
      status: 200
      body: >
        {"id":19,"name":"John Citizen","email":"john@example.org","avatar_url":null,"twitter_username":null,"profile":null,"location":null,"created_at":"2013-02-21T22:54:17Z","url":"https://podling.com/api/v1/users/19"}

  - title: "Updating a User"
    action: "PATCH /users/:user_id"
    parameters:
      - key: name
        type: String
      - key: twitter_username
        type: String
      - key: password
        type: String
    examples:
      curl: curl -X PATCH -d 'name=John Johnson' -H "Authorization:Bearer $token" https://podling.com/api/v1/users/19
    response:
      status: 200
      "Content-Type": application/json
      body: >
        {"id":19,"name":"John Johnson","email":"john@example.org","avatar_url":null,"twitter_username":null,"profile":null,"location":null,"created_at":"2013-02-21T22:54:17Z","url":"https://podling.com/api/v1/users/19"}

  - title: "Fetch a user's avatar"
    subtitle:
    action: GET /api/v1/users/:user_id/avatar
    parameters: None
    examples:
      curl: curl -H "Authorization:Bearer $token" https://podling.com/api/v1/users/19/avatar
    response:
      status: 302
      "Content-Type": application/json
      headers:
        Location: "https://api.twitter.com/1/users/profile_image/USER_NAME"

  - title: "Fetching a user's access token"
    subtitle: Used to retreive a token
    action: POST /users/authenticate
    parameters:
      - key: email
      - key: password
    examples:
      curl: curl -d 'email=john@example.org&password=johnjohn' https://podling.com/api/v1/users/authenticate
    response:
      status: 200
      "Content-Type": application/json
      body: >
        {"user":{"id":19,"name":"John Citizen","email":"john@example.org","avatar_url":null,"twitter_username":null,"profile":null,"location":null,"created_at":"2013-02-21T22:54:17Z","url":"https://podling.com/api/v1/users/19"},"user_access_token":"zzfnYNx3ukTjmUJeVylS4SE1fXDjste_IIjzqv2BZnk"}

  - title: "List a user's Group memberships"
    subtitle:
    action: GET /api/v1/users/:user_id/memberships
    parameters: None
    examples:
      curl: curl -H "Authorization:Bearer $token" https://podling.com/api/v1/users/19/memberships
    response:
      status: 200
      "Content-Type": application/json
      body: >
        [{"id":12,"administrator":false,"created_at":"2013-02-21T22:55:59Z","user":{"id":19},"group":{"id":12,"name":"John's Group","slug":"12-john-s-group","created_at":"2013-02-21T22:54:53Z","updated_at":"2013-02-21T22:54:53Z","member_count":1}},{"id":13,"administrator":false,"created_at":"2013-02-21T22:57:18Z","user":{"id":19},"group":{"id":13,"name":"The Citizens","slug":"13-the-citizens","created_at":"2013-02-21T22:57:12Z","updated_at":"2013-02-21T22:57:12Z","member_count":2}}]

  - title: "List a user's Posts"
    subtitle:
    action: GET /api/v1/users/:user_id/posts
    parameters: None
    examples:
      curl: curl -H "Authorization:Bearer $token" https://podling.com/api/v1/users/19/posts
    response:
      status: 200
      "Content-Type": application/json
      body: >
        [{"id":39,"content":"A new post!!","content_html":"<p>A new post!!</p>","is_original":false,"in_reply_to_id":null,"created_at":"2013-02-22T04:41:18Z","updated_at":"2013-02-24T23:21:46Z","attachments":[],"user":{"id":19,"name":"John Citizen","email":"john@example.org","avatar_url":null,"twitter_username":null,"profile":null,"location":null,"created_at":"2013-02-21T22:54:17Z","url":"https://podling.com/api/v1/users/19"},"likes":[],"conversation":{"id":10,"group":{"id":13,"slug":"13-the-citizens"}},"group":{"id":13,"name":"The Citizens","slug":"13-the-citizens"}},{"id":38,"content":"This is my first post","content_html":"<p>This is my first post</p>","is_original":true,"in_reply_to_id":null,"created_at":"2013-02-22T00:24:40Z","updated_at":"2013-02-22T00:24:40Z","attachments":[],"user":{"id":19,"name":"John Citizen","email":"john@example.org","avatar_url":null,"twitter_username":null,"profile":null,"location":null,"created_at":"2013-02-21T22:54:17Z","url":"https://podling.com/api/v1/users/19"},"likes":[],"conversation":{"id":13,"group":{"id":13,"slug":"13-the-citizens"}},"group":{"id":13,"name":"The Citizens","slug":"13-the-citizens"}},{"id":36,"content":"Hey, this is great!","content_html":"<p>Hey, this is great!</p>","is_original":true,"in_reply_to_id":null,"created_at":"2013-02-21T23:03:57Z","updated_at":"2013-02-21T23:03:57Z","attachments":[],"user":{"id":19,"name":"John Citizen","email":"john@example.org","avatar_url":null,"twitter_username":null,"profile":null,"location":null,"created_at":"2013-02-21T22:54:17Z","url":"https://podling.com/api/v1/users/19"},"likes":[],"conversation":{"id":10,"group":{"id":13,"slug":"13-the-citizens"}},"group":{"id":13,"name":"The Citizens","slug":"13-the-citizens"}}]

  - title: "Remove a user from a group"
    subtitle: Posts made by the user are left unchanged
    action: DELETE /api/v1/users/:user_id/memberships/:id
    parameters: None
    examples:
      curl: curl -X DELETE -H "Authorization:Bearer $token" https://podling.com/api/v1/users/19/memberships/12
    response:
      status: 204
