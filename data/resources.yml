groups:
  endpoints:
    - title: Create a Group Invitation
      subtitle:
      action: POST /api/v1/groups/:group_id/invitations
      parameters:
        - key: email
          type: String
          optional: true
      example: curl -d' ' -H "Authorization:Bearer $token" learnable.vm:3000/api/v1/groups/13-the-citizens/invitations
      response: >
        {"id":9,"email":null,"token":"vsiF0LcjKPw0AC2W3siA98TUCQZYKVB7ndZiA2YpL94","created_at":"2013-02-25T00:39:51Z","updated_at":"2013-02-25T00:39:51Z"}

    - title: List Group members
      subtitle:
      action: GET /api/v1/groups/:group_id/members
      parameters: None
      example:
      response:


conversations:
  endpoints:
    - title: Create a Conversation
      subtitle: A post is automatically created with the conversation.
      action: POST /groups/:group_slug/conversations
      parameters: 
        "content : String" : "The content of the first post in the Conversation"
        "created_at : DateTime" : "For manually setting the creation time of the conversation and first post"
      example: curl -d 'content=This%20is%20my%20first%20post' -H 'Authorization:Bearer $token' learnable.vm:3000/api/v1/groups/13-the-citizens/conversations
      response: >
        {"id":13,"created_at":"2013-02-22T00:24:40Z","updated_at":"2013-02-22T00:24:40Z","bumped_at":"2013-02-22T00:24:40Z","posts":[{"id":38,"content":"This is my first post","content_html":"<p>This is my first post</p>","is_original":true,"in_reply_to_id":null,"created_at":"2013-02-22T00:24:40Z","updated_at":"2013-02-22T00:24:40Z","attachments":[],"user":{"id":19,"name":"John Citizen","email":"john@example.org","avatar_url":null,"twitter_username":null,"profile":null,"location":null,"created_at":"2013-02-21T22:54:17Z","url":"http://learnable.vm:3000/api/v1/users/19"},"likes":[]}]}

    - title: Show a conversation
      action: GET /groups/:group_slug/conversations/:conversation_id
      parameters: None
      example: 'curl -H "Authorization:Bearer $token" learnable.vm:3000/api/v1/groups/13-the-citizens/conversations/10'
      response: >
        {"id":10,"created_at":"2013-02-21T23:01:54Z","updated_at":"2013-02-21T23:05:48Z","bumped_at":"2013-02-21T23:05:48Z","posts":[{"id":36,"content":"Hey, this is great!","content_html":"<p>Hey, this is great!</p>","is_original":true,"in_reply_to_id":null,"created_at":"2013-02-21T23:03:57Z","updated_at":"2013-02-21T23:03:57Z","attachments":[],"user":{"id":19,"name":"John Citizen","email":"john@example.org","avatar_url":null,"twitter_username":null,"profile":null,"location":null,"created_at":"2013-02-21T22:54:17Z","url":"http://learnable.vm:3000/api/v1/users/19"},"likes":[]},{"id":37,"content":"It sure is!","content_html":"<p>It sure is!</p>","is_original":false,"in_reply_to_id":36,"created_at":"2013-02-21T23:05:48Z","updated_at":"2013-02-21T23:05:48Z","attachments":[],"user":{"id":20,"name":"Mary Citizen","email":"mary@example.org","avatar_url":null,"twitter_username":null,"profile":null,"location":null,"created_at":"2013-02-21T23:00:06Z","url":"http://learnable.vm:3000/api/v1/users/20"},"in_reply_to":{"id":36,"content":"Hey, this is great!","content_html":"<p>Hey, this is great!</p>","is_original":true,"in_reply_to_id":null,"created_at":"2013-02-21T23:03:57Z","updated_at":"2013-02-21T23:03:57Z","attachments":[],"user":{"id":19,"name":"John Citizen","email":"john@example.org","avatar_url":null,"twitter_username":null,"profile":null,"location":null,"created_at":"2013-02-21T22:54:17Z","url":"http://learnable.vm:3000/api/v1/users/19"}},"likes":[]}]}

    - title: List Conversations
      subtitle: Applies to only one group, specified by the URI
      action: GET /api/v1/groups/:group_slug/conversations
      parameters: None
      example: 'curl -H "Authorization:Bearer $token" learnable.vm:3000/api/v1/groups/13-the-citizens/conversations'
      response: >
        [{"id":13,"created_at":"2013-02-22T00:24:40Z","updated_at":"2013-02-22T00:24:40Z","bumped_at":"2013-02-22T00:24:40Z","posts":[{"id":38,"content":"This is my first post","content_html":"<p>This is my first post</p>","is_original":true,"in_reply_to_id":null,"created_at":"2013-02-22T00:24:40Z","updated_at":"2013-02-22T00:24:40Z","attachments":[],"user":{"id":19,"name":"John Citizen","email":"john@example.org","avatar_url":null,"twitter_username":null,"profile":null,"location":null,"created_at":"2013-02-21T22:54:17Z","url":"http://learnable.vm:3000/api/v1/users/19"},"likes":[]}]},{"id":10,"created_at":"2013-02-21T23:01:54Z","updated_at":"2013-02-21T23:05:48Z","bumped_at":"2013-02-21T23:05:48Z","posts":[{"id":36,"content":"Hey, this is great!","content_html":"<p>Hey, this is great!</p>","is_original":true,"in_reply_to_id":null,"created_at":"2013-02-21T23:03:57Z","updated_at":"2013-02-21T23:03:57Z","attachments":[],"user":{"id":19,"name":"John Citizen","email":"john@example.org","avatar_url":null,"twitter_username":null,"profile":null,"location":null,"created_at":"2013-02-21T22:54:17Z","url":"http://learnable.vm:3000/api/v1/users/19"},"likes":[]},{"id":37,"content":"It sure is!","content_html":"<p>It sure is!</p>","is_original":false,"in_reply_to_id":36,"created_at":"2013-02-21T23:05:48Z","updated_at":"2013-02-21T23:05:48Z","attachments":[],"user":{"id":20,"name":"Mary Citizen","email":"mary@example.org","avatar_url":null,"twitter_username":null,"profile":null,"location":null,"created_at":"2013-02-21T23:00:06Z","url":"http://learnable.vm:3000/api/v1/users/20"},"in_reply_to":{"id":36,"content":"Hey, this is great!","content_html":"<p>Hey, this is great!</p>","is_original":true,"in_reply_to_id":null,"created_at":"2013-02-21T23:03:57Z","updated_at":"2013-02-21T23:03:57Z","attachments":[],"user":{"id":19,"name":"John Citizen","email":"john@example.org","avatar_url":null,"twitter_username":null,"profile":null,"location":null,"created_at":"2013-02-21T22:54:17Z","url":"http://learnable.vm:3000/api/v1/users/19"}},"likes":[]}]}]

    - title: Update Conversation
      subtitle: The only change that can be made is to hide or unhide the Conversation
      action: PATCH /api/v1/groups/:group_slug/conversations/:id
      parameters: 
        "hidden_by_user : Boolean" : "Signal that a user is hiding the conversation. The user must be the owner of the conversation." 
        "hidden_by_administrator : Boolean" : "Signal that an administrator of the group is hiding the conversation."
      example: curl -X PATCH -d'hidden_by_user=true' -H "Authorization:Bearer $token" learnable.vm:3000/api/v1/groups/13-the-citizens/conversations/10
      response: >
        {"id":10,"created_at":"2013-02-21T23:01:54Z","updated_at":"2013-02-22T03:11:38Z","bumped_at":"2013-02-21T23:05:48Z","posts":[ { "id":36,"content":"Hey, this is great!","content_html":"<p>Hey, this is great!</p>","is_original":true,"in_reply_to_id":null,"created_at":"2013-02-21T23:03:57Z","updated_at":"2013-02-21T23:03:57Z","attachments":[],"user": { "id":19,"name":"John Citizen","email":"john@example.org","avatar_url":null,"twitter_username":null,"profile":null,"location":null,"created_at":"2013-02-21T22:54:17Z","url":"http://learnable.vm:3000/api/v1/users/19" } ,"likes":[] } , { "id":37,"content":"It sure is!","content_html":"<p>It sure is!</p>","is_original":false,"in_reply_to_id":36,"created_at":"2013-02-21T23:05:48Z","updated_at":"2013-02-21T23:05:48Z","attachments":[],"user": { "id":20,"name":"Mary Citizen","email":"mary@example.org","avatar_url":null,"twitter_username":null,"profile":null,"location":null,"created_at":"2013-02-21T23:00:06Z","url":"http://learnable.vm:3000/api/v1/users/20" } ,"in_reply_to": { "id":36,"content":"Hey, this is great!","content_html":"<p>Hey, this is great!</p>","is_original":true,"in_reply_to_id":null,"created_at":"2013-02-21T23:03:57Z","updated_at":"2013-02-21T23:03:57Z","attachments":[],"user": { "id":19,"name":"John Citizen","email":"john@example.org","avatar_url":null,"twitter_username":null,"profile":null,"location":null,"created_at":"2013-02-21T22:54:17Z","url":"http://learnable.vm:3000/api/v1/users/19" } } ,"likes":[] } ],"hidden_by_user":true,"hidden_by_group":false,"hidden_by_administrator":false }

    - title: Mute a conversation
      subtitle: Unsubscribe the authenticated user from a conversation
      action: POST /api/v1/groups/:group_id/conversations/:conversation_id/mute
      parameters: None
      example: >
        curl -d' ' -H "Authorization:Bearer $token" -v learnable.vm:3000/api/v1/groups/13-the-citizens/conversations/10/mute
      response: ""


posts:
  endpoints:
    - title: Index Posts
      action: GET /api/v1/groups/:group_id/conversations/:conversation_id/posts
      parameters: None
      example: curl -H "Authorization:Bearer $token" learnable.vm:3000/api/v1/groups/13-the-citizens/conversations/10/posts
      response: >
        [{"id":36,"content":"Hey, this is great!","content_html":"<p>Hey, this is great!</p>","is_original":true,"in_reply_to_id":null,"created_at":"2013-02-21T23:03:57Z","updated_at":"2013-02-21T23:03:57Z","attachments":[],"user":{"id":19,"name":"John Citizen","email":"john@example.org","avatar_url":null,"twitter_username":null,"profile":null,"location":null,"created_at":"2013-02-21T22:54:17Z","url":"http://learnable.vm:3000/api/v1/users/19"},"likes":[]},{"id":37,"content":"It sure is!","content_html":"<p>It sure is!</p>","is_original":false,"in_reply_to_id":36,"created_at":"2013-02-21T23:05:48Z","updated_at":"2013-02-21T23:05:48Z","attachments":[],"user":{"id":20,"name":"Mary Citizen","email":"mary@example.org","avatar_url":null,"twitter_username":null,"profile":null,"location":null,"created_at":"2013-02-21T23:00:06Z","url":"http://learnable.vm:3000/api/v1/users/20"},"in_reply_to":{"id":36,"content":"Hey, this is great!","content_html":"<p>Hey, this is great!</p>","is_original":true,"in_reply_to_id":null,"created_at":"2013-02-21T23:03:57Z","updated_at":"2013-02-21T23:03:57Z","attachments":[],"user":{"id":19,"name":"John Citizen","email":"john@example.org","avatar_url":null,"twitter_username":null,"profile":null,"location":null,"created_at":"2013-02-21T22:54:17Z","url":"http://learnable.vm:3000/api/v1/users/19"}},"likes":[]}]

    - title: Create a Post
      action: POST /api/v1/groups/:group_id/conversations/:conversation_id/posts
      parameters: "content : String"
      example: curl -d"content=A%20new%20post!!" -H "Authorization:Bearer $token" learnable.vm:3000/api/v1/groups/13-the-citizens/conversations/10/posts
      response: >
        {"id":39,"content":"A new post!!","content_html":"<p>A new post!!</p>","is_original":false,"in_reply_to_id":null,"created_at":"2013-02-22T04:41:18Z","updated_at":"2013-02-22T04:41:18Z","attachments":[],"user":{"id":19,"name":"John Citizen","email":"john@example.org","avatar_url":null,"twitter_username":null,"profile":null,"location":null,"created_at":"2013-02-21T22:54:17Z","url":"http://learnable.vm:3000/api/v1/users/19"},"likes":[]}

    - title: Show a Post
      action: GET /api/v1/groups/:group_id/conversations/:conversation_id/posts/:post_id
      parameters: None
      example: curl -H "Authorization:Bearer $token" learnable.vm:3000/api/v1/groups/13-the-citizens/conversations/10/posts/39
      response: >
        {"id":39,"content":"A new post!!","content_html":"<p>A new post!!</p>","is_original":false,"in_reply_to_id":null,"created_at":"2013-02-22T04:41:18Z","updated_at":"2013-02-22T04:41:18Z","attachments":[],"user":{"id":19,"name":"John Citizen","email":"john@example.org","avatar_url":null,"twitter_username":null,"profile":null,"location":null,"created_at":"2013-02-21T22:54:17Z","url":"http://learnable.vm:3000/api/v1/users/19"},"likes":[]}

    - title: Update a Post
      subtitle: Used only to hide or show posts. Post content can not be modified.
      action: POST /groups/:group_id/conversations/:conversation_id/posts/:post_id
      parameters: 
        "hidden_by_user : Boolean" : "Signal that a user is hiding the post. The user must be the owner of the post." 
        "hidden_by_administrator : Boolean" : "Signal that an administrator of the group is hiding the post."
      example: >
        curl -X PATCH -d'hidden_by_user=true' -H "Authorization:Bearer $token" learnable.vm:3000/api/v1/groups/13-the-citizens/conversations/10/posts/39
      response: >

    - title: Like a Post
      subtitle: Adds a 'Like' to a Post by the authenticated user
      action: POST /api/v1/groups/:group_id/conversations/:conversation_id/posts/:post_id/likes
      parameters: None
      example: >
        curl -d' ' -H "Authorization:Bearer $token" learnable.vm:3000/api/v1/groups/13-the-citizens/conversations/10/posts/37/likes
      response: >
        {"id":26,"user":{"id":19,"name":"John Citizen","email":"john@example.org","avatar_url":null,"twitter_username":null,"profile":null,"location":null,"created_at":"2013-02-21T22:54:17Z","url":"http://learnable.vm:3000/api/v1/users/19"}}

    - title: Unlike a Post
      subtitle: Remove a 'Like' from a Post. Users can only remove their own likes.
      action: DELETE /api/v1/groups/:group_id/conversations/:conversation_id/posts/:post_id/likes/:like_id
      parameters: None
      example: >
        curl -X DELETE -H "Authorization:Bearer $token" learnable.vm:3000/api/v1/groups/13-the-citizens/conversations/10/posts/37/likes/26
      response:

    - title:
      subtitle:
      action:
      parameters:
      example:
      response:
